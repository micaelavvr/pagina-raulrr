<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Temas de Fe</title>

  <!-- Estilos globales y locales -->
  <link rel="stylesheet" href="css/styles.css?v=3">
  <link rel="stylesheet" href="css/temasfe.css?v=2">
</head>

<body>

    <!-- Barra de navegación -->
  <nav class="tabs-wrap" aria-label="Navegación de secciones">
    <div class="tabs">
      <a class="tab" href="index.html">Inicio</a>
      <a class="tab" href="epca.html">Sobre EPCA…</a>

      <!-- Canales con desplegable -->
      <div class="tab dd" data-dd>
        <a class="dd-link" href="canales.html">Canales y Videos Católicos</a>
        <button class="dd-trigger" type="button" aria-expanded="false" aria-controls="dd-menu-1">▾</button>
        <ul id="dd-menu-1" class="dd-menu" hidden>
          <li><a href="canales.html#milagros-eucaristicos">Milagros eucarísticos</a></li>
        </ul>
      </div>

      <a class="tab" href="noticias.html">Noticias</a>
      <a class="tab is-active" href="temasfe.html">Temas de Fe</a>
      <a class="tab" href="catecismo.html">Catecismo</a>
      <a class="tab" href="rosario.html">El Rosario</a>
    </div>
  </nav>

  <!-- Título estilo “cinta” como el de El Rosario -->
  <header class="tf-hero">
    <h1 class="tf-title">Temas y Archivos de Fe</h1>
    <p class="tf-sub">Materiales en PDF para profundizar en la fe: celebraciones, devociones y reflexiones.
      <br>Haz clic en una tarjeta para <strong>descargar</strong>.</p>
  </header>

  <main class="tf-container">

  <!-- Adviento 2024 (PDF: abrir en otra pestaña) -->
  <a class="doc-card" href="docs/temasfe/adviento2024.pdf" target="_blank">
    <img class="doc-icon" src="docs/temasfe/adviento.png" alt="Adviento 2024">
    <div class="doc-content">
      <h3>Adviento 2024</h3>
      <small>PDF — adviento2024.pdf</small>
    </div>
  </a>

  <!-- Benedicto XVI (EWTN España) -->
  <a class="doc-card" href="docs/temasfe/BXVI EWTN Spain.pdf" target="_blank">
    <img class="doc-icon" src="docs/temasfe/benedicto.png" alt="Benedicto XVI">
    <div class="doc-content">
      <h3>Benedicto XVI (EWTN España)</h3>
      <small>PDF — BXVI EWTN Spain.pdf</small>
    </div>
  </a>

  <!-- Epifanía 2024 -->
  <a class="doc-card" href="docs/temasfe/EPIFANIA 2024.pdf" target="_blank">
    <img class="doc-icon" src="docs/temasfe/epifania.png" alt="Epifanía">
    <div class="doc-content">
      <h3>Epifanía 2024</h3>
      <small>PDF — EPIFANIA 2024.pdf</small>
    </div>
  </a>

  <!-- Jubileo 2025 (EWTN España) -->
  <a class="doc-card" href="docs/temasfe/JUBILEO 2025 EWTN ESPAÑA.pdf" target="_blank">
    <img class="doc-icon" src="docs/temasfe/jubileo.png" alt="Jubileo 2025">
    <div class="doc-content">
      <h3>Jubileo 2025 (EWTN España)</h3>
      <small>PDF — JUBILEO 2025 EWTN ESPAÑA.pdf</small>
    </div>
  </a>

  <!-- La Visitación de María -->
  <a class="doc-card" href="docs/temasfe/la visitacion de maria.pdf" target="_blank">
    <img class="doc-icon" src="docs/temasfe/visitacion.png" alt="La Visitación de María">
    <div class="doc-content">
      <h3>La Visitación de María</h3>
      <small>PDF — la visitacion de maria.pdf</small>
    </div>
  </a>

  <!-- Memorial del Papa Francisco -->
  <a class="doc-card" href="docs/temasfe/MEMORIAL PAPA FRANCISCO.pdf" target="_blank">
    <img class="doc-icon" src="docs/temasfe/memorial.png" alt="Memorial Papa Francisco">
    <div class="doc-content">
      <h3>Memorial del Papa Francisco</h3>
      <small>PDF — MEMORIAL PAPA FRANCISCO.pdf</small>
    </div>
  </a>

  <!-- Pentecostés 2023 -->
  <a class="doc-card" href="docs/temasfe/Pentecostes2023.pdf" target="_blank">
    <img class="doc-icon" src="docs/temasfe/pentecostes.png" alt="Pentecostés 2023">
    <div class="doc-content">
      <h3>Pentecostés 2023</h3>
      <small>PDF — Pentecostes2023.pdf</small>
    </div>
  </a>

  <!-- San Pedro y San Pablo -->
  <a class="doc-card" href="docs/temasfe/San Pedro y San Pablo.pdf" target="_blank">
    <img class="doc-icon" src="docs/temasfe/sanpedrosanpablo.png" alt="San Pedro y San Pablo">
    <div class="doc-content">
      <h3>San Pedro y San Pablo</h3>
      <small>PDF — San Pedro y San Pablo.pdf</small>
    </div>
  </a>


</main>



  <!-- Script para el dropdown del nav -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('[data-dd]').forEach(dd => {
        const trigger = dd.querySelector('.dd-trigger');
        const menu = dd.querySelector('.dd-menu');

        const setOpen = (on) => {
          dd.classList.toggle('open', on);
          menu.hidden = !on;
          trigger.setAttribute('aria-expanded', on ? 'true' : 'false');
        };

        trigger.addEventListener('click', (e) => {
          e.stopPropagation();
          setOpen(!dd.classList.contains('open'));
        });

        menu.addEventListener('click', (e) => {
          if (e.target.closest('a')) setOpen(false);
        });

        document.addEventListener('click', (e) => {
          if (!dd.contains(e.target)) setOpen(false);
        });
      });
    });
  </script>

  <!-- Forzar DESCARGA (sin salir de la página) -->
  <script>
    // Descargador universal para las tarjetas
    document.addEventListener('click', async (e) => {
      const card = e.target.closest('.tf-card');
      if (!card) return;

      e.preventDefault();

      const url = card.getAttribute('data-file');
      // nombre sugerido para guardar (opcional)
      let filename = card.getAttribute('data-name') || url.split('/').pop();

      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('No se pudo descargar');
        const blob = await res.blob();
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        link.remove();
        URL.revokeObjectURL(link.href);
      } catch (err) {
        // Plan B: si fetch falla (rutas/servidor), redirige y usa el atributo download del navegador
        const fallback = document.createElement('a');
        fallback.href = url;
        fallback.download = filename;
        document.body.appendChild(fallback);
        fallback.click();
        fallback.remove();
      }
    });
  </script>
</body>
</html>
